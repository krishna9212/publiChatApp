import{c as O,j as r,a as y,r as x,u as P,f as j,b as M,o as k,d as C,e as z,g as H,h as W,S as B}from"./index-CHLKZkg-.js";function $(t){const a=Object.assign({},t);for(let e in a)a[e]===void 0&&delete a[e];return a}var[D,G]=O({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function Z(t){var a;const e=t.split(" "),s=(a=e[0])!=null?a:"",n=e.length>1?e[e.length-1]:"";return s&&n?`${s.charAt(0)}${n.charAt(0)}`:s.charAt(0)}function p(t){const{name:a,getInitials:e,...s}=t,n=G();return r.jsx(y.div,{role:"img","aria-label":a,...s,__css:n.label,children:a?e==null?void 0:e(a):null})}p.displayName="AvatarName";var L=t=>r.jsxs(y.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[r.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),r.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function q(t){const{loading:a,src:e,srcSet:s,onLoad:n,onError:g,crossOrigin:i,sizes:f,ignoreFallback:d}=t,[l,m]=x.useState("pending");x.useEffect(()=>{m(e?"loading":"pending")},[e]);const u=x.useRef(),v=x.useCallback(()=>{if(!e)return;c();const o=new Image;o.src=e,i&&(o.crossOrigin=i),s&&(o.srcset=s),f&&(o.sizes=f),a&&(o.loading=a),o.onload=h=>{c(),m("loaded"),n==null||n(h)},o.onerror=h=>{c(),m("failed"),g==null||g(h)},u.current=o},[e,i,s,f,n,g,a]),c=()=>{u.current&&(u.current.onload=null,u.current.onerror=null,u.current=null)};return P(()=>{if(!d)return l==="loading"&&v(),()=>{c()}},[l,v,d]),d?"loaded":l}function _(t){const{src:a,srcSet:e,onError:s,onLoad:n,getInitials:g,name:i,borderRadius:f,loading:d,iconLabel:l,icon:m=r.jsx(L,{}),ignoreFallback:u,referrerPolicy:v,crossOrigin:c}=t,h=q({src:a,onError:s,crossOrigin:c,ignoreFallback:u})==="loaded";return!a||!h?i?r.jsx(p,{className:"chakra-avatar__initials",getInitials:g,name:i}):x.cloneElement(m,{role:"img","aria-label":l}):r.jsx(y.img,{src:a,srcSet:e,alt:i,onLoad:n,referrerPolicy:v,crossOrigin:c??void 0,className:"chakra-avatar__img",loading:d,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:f}})}_.displayName="AvatarImage";var J={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},b=j((t,a)=>{const e=M("Avatar",t),[s,n]=x.useState(!1),{src:g,srcSet:i,name:f,showBorder:d,borderRadius:l="full",onError:m,onLoad:u,getInitials:v=Z,icon:c=r.jsx(L,{}),iconLabel:o=" avatar",loading:h,children:S,borderColor:A,ignoreFallback:E,crossOrigin:R,referrerPolicy:T,...F}=k(t),N={borderRadius:l,borderWidth:d?"2px":void 0,...J,...e.container};return A&&(N.borderColor=A),r.jsx(y.span,{ref:a,...F,className:C("chakra-avatar",t.className),"data-loaded":z(s),__css:N,children:r.jsxs(D,{value:e,children:[r.jsx(_,{src:g,srcSet:i,loading:h,onLoad:H(u,()=>{n(!0)}),onError:m,getInitials:v,name:f,borderRadius:l,icon:c,iconLabel:o,ignoreFallback:E,crossOrigin:R,referrerPolicy:T}),S]})})});b.displayName="Avatar";var I=j(function(a,e){const s=W("Text",a),{className:n,align:g,decoration:i,casing:f,...d}=k(a),l=$({textAlign:a.align,textDecoration:a.decoration,textTransform:a.casing});return r.jsx(y.p,{ref:e,className:C("chakra-text",a.className),...l,...d,__css:s})});I.displayName="Text";var w=j((t,a)=>r.jsx(B,{align:"center",...t,direction:"row",ref:a}));w.displayName="HStack";function Q({text:t,user:a,uri:e}){return r.jsxs(w,{alignSelf:a==="other"?"flex-start":"flex-end",padding:1,paddingRight:a==="other"?"5":"1",paddingLeft:a==="other"?"1":"5",bg:a==="other"?"gray.500":"green.500",borderRadius:"full",children:[a==="other"&&r.jsx(b,{src:e}),r.jsx(I,{fontSize:"1.2rem",fontWeight:"500",children:t}),a==="me"&&r.jsx(b,{src:e})]})}export{Q as default};
